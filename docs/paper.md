### 论文原理部分总结  
论文核心原理围绕"将长文本写作转化为可动态调整的规划问题"展开, 通过**任务公式化定义**与**异构递归规划方法**, 实现检索、推理、组合三类任务的灵活整合, 具体分为以下两部分:   


#### 一、写作任务的公式化定义(Formulation)  
该部分为原理奠定理论基础, 通过数学化定义明确写作系统的核心组件、任务类型与规划目标, 将模糊的写作过程转化为可计算的规划问题。  
1. **写作智能体系统定义**  
   正式定义写作智能体系统为 tuple: $\sum_{\mathcal{A}}=(\mathcal{A}, \mathcal{M}, D, W, \mathcal{O})$, 其中各组件功能明确:   
   - $\mathcal{A}$(智能体内核): 处理写作指令、解决任务并选择动作；  
   - $\mathcal{M}$(内存): 存储大纲、草稿、检索到的参考信息等写作相关数据；  
   - $D$(数据库): 提供外部信息源(如搜索引擎、参考文档)；  
   - $W$(工作区): 用于文本生成与修订的实时操作空间；  
   - $O$(接口): 连接智能体与外部环境, 接收指令/反馈、访问资源并输出内容。  

2. **三种异构核心任务类型**  
   论文将写作拆解为三种认知任务, 每种任务有明确的定义、目标与信息流向, 且对应不同的操作逻辑, 是后续规划的基础:   
   - **检索任务($t_a(i)$)**: 针对写作中的信息需求$i$(如事实查询、文献检索), 从数据库$D$获取相关信息并更新至内存$\mathcal{M}$, 不修改工作区$W$；  
   - **推理任务($t_r(p, K)$)**: 针对写作问题$p$(如大纲规划、逻辑冲突解决), 基于内存$\mathcal{M}$中的已有知识$K$推导新信息或决策, 仅实现$\mathcal{M}$内部的知识转化；  
   - **组合任务($t_c(s, g, K)$)**: 针对文本生成目标$g$(如风格、长度要求), 结合工作区$W$的当前状态$s$与内存$\mathcal{M}$中的知识$K$, 生成或修订文本并更新$W$与$\mathcal{M}$。  

3. **写作规划问题定义**  
   将长文本写作转化为规划问题, 核心是通过执行"primitive任务"(可直接执行的检索/推理/组合操作)达成写作目标:   
   - 规划问题表示为 tuple: $\left< t_{c}(g, s_0, K_0), T_p \right>$, 其中$t_{c}(g, s_0, K_0)$是顶层组合任务($g$为写作目标, $s_0$为$W$初始状态, $K_0$为$\mathcal{M}$初始知识), $T_p$是primitive任务集合；  
   - 解决方案需满足两个条件: ① 可执行性(每个任务的前提条件均满足)；② 目标达成(最终$W$状态符合初始写作目标$g$)。  


#### 二、异构递归规划方法原理  
基于上述公式化定义, 论文提出"异构递归规划"方法, 通过**递归任务分解**、**类型化任务整合**与**自适应调度**, 实现动态、灵活的写作规划, 突破传统预定义大纲的刚性限制。  
1. **递归任务分解**  
   借鉴分层任务网络(HTN)规划思想, 将顶层写作任务逐层分解为子任务, 直至得到primitive任务:   
   - 分解逻辑: 对每个任务递归应用分解规则, 仅当子任务类型需进一步细化时继续分解(而非依赖执行失败终止), 确保最终任务均为可直接执行的primitive操作；  
   - 核心优势: 动态调整分解深度, 适配不同复杂度的写作需求(如简单段落无需多轮分解, 复杂技术报告需多层推理+检索)。  

2. **类型化任务整合**  
   基于"分解类型指定假设"(Hypothesis 1)——所有子任务可明确指定为检索、推理、组合中的一种类型, 实现三类任务的有序整合:   
   - 类型专属逻辑: 不同类型任务采用差异化分解规则(如组合任务需以组合子任务收尾, 确保$W$的文本生成；检索任务序列后需追加推理任务, 总结结果并更新$\mathcal{M}$)；  
   - 异构智能体适配: 为不同类型任务分配专属智能体(如检索任务调用"搜索智能体", 推理任务调用"分析智能体"), 提升任务执行效率。  

3. **自适应任务调度**  
   设计"基于状态的分层任务调度算法"(Algorithm 1), 实现规划与执行的交织, 确保动态适应写作过程中的信息变化:   
   - 任务建模: 用有向无环图(DAG)表示任务及依赖关系, 管理任务的"活跃(ACTIVE)/暂停(SUSPEND)/静默(SILENCE)"三种状态；  
   - 调度流程: 从根任务开始, 通过广度优先搜索(BFS)优先执行根节点最近的活跃任务；若为primitive任务则直接执行并更新状态, 若非则分解为子任务加入DAG并暂停当前任务, 直至所有任务转为"静默"状态；  
   - 核心价值: 避免"先规划完再执行"的刚性, 执行过程中可基于前序任务结果动态调整后续规划(如检索到新信息后, 即时重新优化推理逻辑)。