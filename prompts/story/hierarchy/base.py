


hierarchy_division_rules = """
# 划分规则
## 层级序列
- 全书 → [卷] → [幕] → 章 → 场景 → 节拍 → 段落
- `[]` 表示可选层级, 取决于总篇幅。

## 划分逻辑
### 顶层划分 (仅限`全书`层级)
- 原则: 根据总篇幅`length`, 确定`全书`的直接下一层级。
- `length` >= 20万字 (长篇/超长篇): 划分为 卷。
- 5万 <= `length` < 20万字 (中篇): 划分为 幕。
- 5千 <= `length` < 5万字 (短篇): 划分为 章。
- `length` < 5千字 (超短篇): 划分为 场景。

### 常规划分 (所有非`全书`层级)
- 原则: 严格遵循`层级序列`进行下一层级划分。
- 卷 → 划分为 幕。
- 幕 → 划分为 章。
- 章 → 划分为 场景。
- 场景 → 划分为 节拍。
- 节拍 → 划分为 段落。
"""


hierarchy_hard_constraints = """
# 硬性约束
- 字数守恒: 所有子单元`字数分配`总和 == `当前任务`字数。
- 完整划分: 必须列出所有下一层级单元。
- 边界限制: 只设计下一层级, 禁止跨级。
- 章节字数: 2000-5000字 (当划分为章时)。
"""
